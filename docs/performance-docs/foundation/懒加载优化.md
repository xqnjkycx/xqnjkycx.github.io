# 懒加载优化
针对图片加载时机的优化：在一些图片量比较大的网站，用户在尝试在用户打开页面时候，就可以把所有的图片资源加载完毕，很可能会造成白屏，卡顿等现象，因为图片真的太多了，一口气请求并加载过多的图片很难做到。

用户点开页面的瞬间，只给他呈现的是屏幕的一部分，只要在页面打开的时候把首屏的图片资源加载出来就可以了。

简单手写一个Lazy-Load代码：
```js
let imagesContainer = document.querySelector('.images-container')
const images = document.querySelectorAll('img')


function lazyLoad(){
    let imgNum = 0
    let viewHeight = imagesContainer.clientHeight
    return function(){
        for(let i = imgNum;i<images.length;i++){
            let distance = viewHeight - images[i].getBoundingClientRect().top
            if(distance > 0){
                imgNum++
                images[i].src = images[i].getAttribute('data-src')
                console.log(imgNum)
            }
        }
    }
}

lazyLoad()()

imagesContainer.addEventListener('scroll',lazyLoad(),false)
```