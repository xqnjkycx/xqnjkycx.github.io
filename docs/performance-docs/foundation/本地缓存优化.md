# 本地存储优化
说到浏览器的本地存储，很容易可以联想到**LocalStorage**，**SessionStorage**，**indexedDB**这些方案。

但是需要了解的是为什么要做浏览的本地存储？一是做数据的持久化，避免数据丢失，第二个重要的点是可以缓存一些复杂数据，从而提升性能。

## WebStorage
WebStorage是HTML5专门为浏览器存储而提供的数据存储机制。它被分为Local Storage 与 Session Storage。这两组的概念非常接近，它们有这样的共性：

- 存储容量很大：Web Storage 根据浏览器的实现不同，存储量一般达到5-10M之间。
- 仅仅位于浏览器端，不会与服务端发生通信。

:::tip
注意了！由于WebStorage不参与到通信之中，意味着一些稳定的资源计算或者fetch之后可以存储到WebStorage之后，后续就完全不需要去网络请求活再次计算了，直接从缓存中读取即可。**这样做的本质也是减少了重复的网络请求从而来提升性能**
:::

### LocalStorage
LocalStorage 可以做持久化的本地存储，存储其中的数据是永远不会过期的，使其消失的唯一办法是手动进行删除。

那么可以使用它来做一些**持久**的内容缓存。有一些图片内容十分丰富的电商网站会用它存储Base64格式的图片字符串：

![image](./assets/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%8Blocalstorage.png)

### SessionStorage
Session Storage 更适合存储一些用于存储生命周期和它同步的**会话级别**的信息。这些信息只适用于当前会话，当开启新得会话时，它也需要相应得更新或释放。比如在NexSight中，会在打开一个工程时，发出一次获取工程信息的请求，并向缓存中存入这些工程信息，这样后续的子页面中这些工程信息就不用于继续请求了，而是直接冲缓存中读取

![image](./assets/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E4%B9%8BsessionStorage.png)


### 面试题：LocalStorage 与 SessionStorage 的区别？
| SessionStorage | LocalStorage |
|------|------|
|一次会话生命周期|持久有效|